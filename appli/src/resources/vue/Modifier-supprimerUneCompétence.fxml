<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<BorderPane fx:id="rootPane"
            prefHeight="1080.0" prefWidth="1920.0"
            xmlns="http://javafx.com/javafx/8"
            xmlns:fx="http://javafx.com/fxml/1"
            stylesheets="@../style/GererCompetences.css"
            fx:controller="controller.GererCompetencesController">

    <!-- TOP : Header avec fx:include -->
    <top>
      <fx:include source="PatronHeaderAdmin.fxml"/>
    </top>

    <!-- CENTER : Contenu principal avec dimensions contrôlées -->
    <center>
      <HBox spacing="20.0" BorderPane.alignment="CENTER"
            minHeight="650.0" prefHeight="700.0" maxHeight="750.0">
        <padding>
          <Insets bottom="5.0" left="20.0" right="20.0" top="5.0"/>
        </padding>
        
        <!-- LEFT : Liste de recherche des compétences -->
        <VBox prefWidth="450.0" spacing="20.0" HBox.hgrow="NEVER">
          <children>
            <!-- Barre de recherche -->
            <HBox alignment="CENTER" prefHeight="45.0" styleClass="BarDeRechercheSecouriste">
              <padding><Insets left="10.0"/></padding>
              <children>
                <ImageView fx:id="LogoRechercherComp"
                           fitHeight="24.0" fitWidth="24.0"
                           pickOnBounds="true" preserveRatio="true">
                  <image><Image url="@../img/loupeRecherche.png"/></image>
                </ImageView>
                <TextField fx:id="RechercheCompTextField"
                           promptText="Rechercher une compétence"
                           style="-fx-background-color: transparent;"
                           HBox.hgrow="ALWAYS"
                           prefHeight="45.0"/>
              </children>
            </HBox>

            <!-- Liste des compétences dans ScrollPane -->
            <ScrollPane fx:id="ScrollPaneRechercheSecou"
                        fitToWidth="true"
                        styleClass="scrollContour"
                        prefHeight="550.0"
                        VBox.vgrow="ALWAYS">
              <content>
                <VBox fx:id="vboxListeCompetences"
                      style="-fx-background-color: white;"
                      fillWidth="true"/>
              </content>
            </ScrollPane>
          </children>
        </VBox>

        <!-- RIGHT : Panel de détails/formulaire -->
        <VBox spacing="20.0" alignment="TOP_CENTER" HBox.hgrow="ALWAYS">
          <!-- Bouton ajouter en haut -->
          <HBox alignment="CENTER_RIGHT">
            <Button fx:id="AjouterComp"
                    onAction="#onAjouterCompetenceClicked"
                    styleClass="button-primary"
                    text="+ Ajouter une compétence"/>
          </HBox>

          <!-- Panel de détails -->
          <BorderPane fx:id="detailsPane"
                      styleClass="scrollContour shadow"
                      prefHeight="600.0"
                      VBox.vgrow="ALWAYS">
          </BorderPane>
        </VBox>
      </HBox>
    </center>

    <!-- BOTTOM : Footer orange avec bouton retour -->
    <bottom>
      <HBox alignment="CENTER_LEFT" styleClass="footer-orange"
            minHeight="100.0" prefHeight="100.0">
        <padding>
          <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>
        <children>
          <Button fx:id="btnRetour"
                  onAction="#onRetourClicked"
                  styleClass="btn-retour-bleu"
                  text="← Retour"/>
        </children>
      </HBox>
    </bottom>
</BorderPane>
